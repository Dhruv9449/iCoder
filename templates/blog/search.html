{% extends 'base.html' %}

{% block title %} Blogs {% endblock title %}

{% block blogactive %}active{% endblock blogactive %}

{% block body %}
{% load static %}


<div class="container mt-4">
    <div class="row justify-content-end">
        <div class="col-4">
            <form class="form-inline" method="get" action="/blog/search/" id="search_form">
                <input class="form-control mr-sm-2" type="search" placeholder="🔍 Search" name="query" id="search" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
            </form>
        </div>
    </div>

    <style>
        .form-control:focus {
            border-color: #28a745;
            box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(40, 167, 69, 0.6);
          }
    </style>



    <h1> Search results -</h1> <br>

    
    {% if posts.count < 1 %}

    <h5> No search results </h5>
    <p> Your search - <b>{{query}}</b> - did not match any blogs.</p>
    Suggestions:
    <ul> 
    <li> Make sure that all words are spelled correctly.</li>
    <li>Try different keywords.</li>
    <li>Try more general keywords.</li>
    <li>Try fewer keywords.</li>
    </ul>

    {% else %}

    {% for post in posts %}
    <div class="row mb-2">
        <div class="col">
            <div class="card flex-md-row mb-4 shadow-sm h-md-250" href="#" >
                <div class="card-body d-flex flex-column align-items-start">
                <h3 class="mb-0">
                    <a class="text-dark" href="/blog/{{post.slug}}"> {{ post.title }} </a>
                </h3>
                <div class="mb-1 text-muted"> {{ post.upload_date|date:"M d, Y"}} </div>
                <p class="card-text mb-auto"> {{ post.desc|slice:":230"}} </p>
                <a href="/blog/{{post.slug}}">Continue reading</a>
                </div>
                <img src="/media/{{ post.thumbnail }}" class="bd-placeholder-img card-img-right flex-auto d-none d-lg-block" width="200" height="210" style="object-fit: cover; object-position: center;"
                aria-label="Placeholder: Thumbnail"/>
            </div>
        </div>
    </div>
    {% endfor %}

    {% endif %}
</div>


{% endblock body %}